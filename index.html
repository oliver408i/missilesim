<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Missile Simulator</title>
		<style>
			body { margin: 0; }
            canvas { display: block; }
            #overlayCanvas {
            pointer-events: none;
            
        }
        @font-face {
            font-family: SHP;
            src: url("assets/SHPinscher-Regular.otf") format("opentype");
        }

        #vignette {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            pointer-events: none;
            mask-image: radial-gradient(circle at center, transparent 30%, black 70%);
            -webkit-mask-image: radial-gradient(circle at center, transparent 30%, black 70%);
        }
            .info-txt { 
                position: absolute; 
                top: 20%; 
                left: 50%; 
                transform: translate(-50%, -50%); 
                font-size: 2em; 
                display: none; 
                padding: 20px; 
                color: white; 
                background-color: rgba(0, 0, 0, 0.7); 
                border: 2px solid white; 
                border-radius: 10px;
                text-align: center;
            }
            .debug-txt { 
                position: absolute; 
                top: 50%; 
                left: 50%; 
                transform: translate(-50%, -50%); 
                font-size: 2em; 
                display: block; 
                padding: 20px; 
                color: rgb(242, 14, 14); 
                background-color: rgba(0, 0, 0, 0.7); 
                border: 2px solid rgb(229, 1, 1); 
                border-radius: 10px;
                text-align: center;
                z-index: -1;
            }
            #3dcanvas {
                position: absolute;
                z-index:10;
            }
            .gameInfoText {
                position: absolute;
                bottom: 20px; /* Add space from the bottom */
                right: 20px;  /* Add space from the right */
                font: 15px SHP;
                color: orange;
                padding: 10px;
                }
            .rangefinder {
                position: absolute;
                bottom: 200px; /* Add space from the bottom */
                right: 40px;  /* Add space from the right */
                font: 20px SHP;
                color: rgb(9, 255, 0);
                padding: 10px;
                }
		</style>
        <script type="importmap">
            {
              "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.165.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.165.0/examples/jsm/"
              }
            }
          </script>
	</head>
	<body>
        
        <div id="gameOver" class="info-txt">You Win!</div>
    
        
        <canvas id="3dcanvas"></canvas>
        <canvas style="display:none" id="overlayCanvas"></canvas>
        
        <script>
            // Check if settings are in localstorge
            if (!localStorage.getItem('missileSpecs')) {
                var currentPath = window.location.pathname;
                var newPath = currentPath.substring(0, currentPath.lastIndexOf('/')) + "/settings.html";
                window.location.href = newPath;
            }
        </script>
        <script type="module" src="./initThree.js"></script>
        <script src="THREE.Terrain.min.js" defer></script>
		<script type="module" src="./main.js" defer></script>

        <div class="debug-txt">Loading</div>
        <div class="gameInfoText" id="info"></div>
        <div class="rangefinder" id="rangefinder"></div>
        
        
	</body>
</html>