<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Difficulty settings</title>
</head>
<body>
    <form id="dropdownForm">
        <label for="irccm">IRCCM</label>
        <select id="irccm" name="irccm">
            <option value="None">None</option>
            <option value="outliner">Flare Outliner</option>
        </select>
        <br><br>
        
        <label for="proxyFuse">Proxy Fuse</label>
        <select id="proxyFuse" name="proxyFuse">
            <option value="None">Off</option>
            <option value="autoTargetting">Auto Targetting</option>
            <option value="laser">Rangefinder</option>
        </select>

        <br><br>

        <label for="rangefinderMode">Rangefinder Mode</label>
        <select id="rangefinderMode" name="rangefinderMode">
            <option value="None">Off</option>
            <option value="linear">Front-Linear</option>
        </select>

        <br><br>

        
        <label for="proxyFuseDistance">Proxy Fuse Distance</label>
        <input type="number" id="proxyFuseDistance" name="proxyFuseDistance" min="1" max="10" value="5"/>
        <br><br>
        
        <button type="button" onclick="saveToLocalStorage()">Submit</button>
    </form>

    <script>
        // Load old settings if they exist
        if (localStorage.getItem('missileSpecs')) {
            const data = JSON.parse(localStorage.getItem('missileSpecs'));

            document.getElementById('irccm').value = data.irccmMode;
            document.getElementById('proxyFuse').value = data.proxyFuse;
            document.getElementById('proxyFuseDistance').value = data.proxyFuseDistance;
            document.getElementById('rangefinderMode').value = data.rangefinderMode;
        }
        function saveToLocalStorage() {
            const irccm = document.getElementById('irccm').value;
            const proxyFuse = document.getElementById('proxyFuse').value;
            const proxyFuseDistance = document.getElementById('proxyFuseDistance').value;
            const rangefinderMode = document.getElementById('rangefinderMode').value;

            const data = {
                irccmMode: irccm,
                proxyFuse: proxyFuse,
                proxyFuseDistance: proxyFuseDistance,
                rangefinderMode: rangefinderMode
            };
            
            localStorage.setItem('missileSpecs', JSON.stringify(data));
            location.replace('/index.html');
        }
    </script>
</body>
</html>